<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RS_TV ìë™ ì—…ë¡œë“œ ì‹œìŠ¤í…œ</title>
    <!-- Tailwind CSS CDN ë¡œë“œ -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Inter í°íŠ¸ ì„¤ì • */
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">

    <!-- í—¤ë” ì„¹ì…˜ -->
    <header class="bg-gray-800 shadow-lg sticky top-0 z-10">
        <div class="container mx-auto p-4 flex justify-between items-center">
            <h1 class="text-3xl font-bold text-red-500">RS_TV 2025</h1>
            <nav>
                <button class="bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-300 shadow-md" onclick="loadAndRender()">
                    ìƒˆ ì˜ìƒ ë¶ˆëŸ¬ì˜¤ê¸° (ì‹œë®¬ë ˆì´ì…˜)
                </button>
            </nav>
        </div>
    </header>

    <!-- ë©”ì¸ ì½˜í…ì¸  ë° ìƒíƒœ ì•Œë¦¼ -->
    <main class="container mx-auto p-6 mt-4">

        <!-- ğŸ”” ìƒíƒœ ì•Œë¦¼ íŒ¨ë„ -->
        <div id="status-panel" class="bg-green-600/90 text-white p-4 rounded-xl shadow-xl mb-8 transition-opacity duration-500 opacity-0 hidden">
            <p class="font-bold text-lg flex items-center">
                <svg class="w-6 h-6 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <span id="status-message"></span>
            </p>
        </div>

        <h2 class="text-2xl font-semibold mb-6 border-b border-gray-700 pb-2 text-gray-200">ì˜¤ëŠ˜ì˜ Short 2025 ì˜ìƒ ëª©ë¡</h2>
        
        <!-- ğŸ¬ ì˜ìƒ ëª©ë¡ì´ í‘œì‹œë  ê·¸ë¦¬ë“œ ì»¨í…Œì´ë„ˆ -->
        <div id="video-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
            <!-- ì˜ìƒ ì¹´ë“œëŠ” JavaScriptì— ì˜í•´ ë™ì ìœ¼ë¡œ ì—¬ê¸°ì— ì‚½ì…ë©ë‹ˆë‹¤. -->
            <div class="col-span-full text-center py-12 text-gray-500" id="loading-indicator">
                <svg class="animate-spin h-8 w-8 text-red-500 mx-auto mb-3" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Google Driveì—ì„œ ì˜ìƒ ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...
            </div>
        </div>

    </main>

    <script>
        // DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
        const videoGrid = document.getElementById('video-grid');
        const statusPanel = document.getElementById('status-panel');
        const statusMessage = document.getElementById('status-message');
        const loadingIndicator = document.getElementById('loading-indicator');

        // ğŸ¥ ì˜ìƒ ë°ì´í„° êµ¬ì¡° (ì‹¤ì œ Google Drive APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•  ë°ì´í„° êµ¬ì¡°ë¥¼ ì‹œë®¬ë ˆì´ì…˜)
        const mockVideos = [
            { id: 'v1', title: 'RS_TV 2025 Short #1: ë°ˆ ëŒ€ë°©ì¶œ', date: '2025-12-05', thumbnailUrl: 'https://placehold.co/400x225/111827/FFFFFF?text=Meme+Short' },
            { id: 'v2', title: 'RS_TV 2025 Short #2: AI ì½”ë”© íŠ¸ë Œë“œ', date: '2025-12-06', thumbnailUrl: 'https://placehold.co/400x225/111827/FFFFFF?text=AI+Coding' },
            { id: 'v3', title: 'RS_TV 2025 Short #3: ì—¬í–‰ ê³„íš ê¿€íŒ', date: '2025-12-06', thumbnailUrl: 'https://placehold.co/400x225/111827/FFFFFF?text=Travel+Tip' },
            { id: 'v4', title: 'RS_TV 2025 Short #4: ì˜¤ëŠ˜ì˜ ì¸ê¸° ë ˆì‹œí”¼', date: '2025-12-07', thumbnailUrl: 'https://placehold.co/400x225/111827/FFFFFF?text=Recipe' },
        ];

        /**
         * @function renderVideoCard
         * @description ë‹¨ì¼ ì˜ìƒ ë°ì´í„°ë¥¼ HTML ì¹´ë“œë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤.
         */
        function renderVideoCard(video) {
            // ì‹¤ì œ ì˜ìƒì˜ ì¸ë„¤ì¼ê³¼ ì¬ìƒ ë§í¬ëŠ” Google Drive APIë¥¼ í†µí•´ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
            // ì—¬ê¸°ì„œëŠ” í”Œë ˆì´ìŠ¤ í™€ë” ì´ë¯¸ì§€ì™€ ëª©ì—… ë§í¬ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.
            return `
                <a href="#" class="block bg-gray-800 rounded-xl overflow-hidden shadow-2xl hover:shadow-red-500/50 transform hover:scale-[1.02] transition duration-300">
                    <img src="${video.thumbnailUrl}" alt="${video.title} ì¸ë„¤ì¼" class="w-full h-auto object-cover aspect-video">
                    <div class="p-4">
                        <h3 class="text-lg font-semibold truncate text-gray-100">${video.title}</h3>
                        <p class="text-sm text-gray-400 mt-1">${video.date}</p>
                    </div>
                </a>
            `;
        }

        /**
         * @function updateStatus
         * @description ìƒë‹¨ ìƒíƒœ íŒ¨ë„ ë©”ì‹œì§€ë¥¼ ì—…ë°ì´íŠ¸í•˜ê³  í‘œì‹œí•©ë‹ˆë‹¤.
         * @param {string} message - í‘œì‹œí•  ë©”ì‹œì§€
         * @param {string} type - 'success' ë˜ëŠ” 'error' (ìƒ‰ìƒ ë³€ê²½ìš©)
         */
        function updateStatus(message, type = 'success') {
            statusMessage.textContent = message;
            statusPanel.classList.remove('bg-green-600/90', 'bg-red-600/90');
            if (type === 'success') {
                statusPanel.classList.add('bg-green-600/90');
            } else {
                statusPanel.classList.add('bg-red-600/90');
            }
            statusPanel.classList.remove('hidden', 'opacity-0');
            statusPanel.classList.add('opacity-100');

            // 5ì´ˆ í›„ ë©”ì‹œì§€ ìë™ ìˆ¨ê¹€
            setTimeout(() => {
                statusPanel.classList.remove('opacity-100');
                statusPanel.classList.add('opacity-0');
                setTimeout(() => {
                    statusPanel.classList.add('hidden');
                }, 500);
            }, 5000);
        }

        /**
         * @function fetchVideosFromGoogleDrive
         * @description (ë°±ì—”ë“œ Python APIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ì‹œë®¬ë ˆì´ì…˜)
         * ì‹¤ì œë¡œëŠ” ì—¬ê¸°ì„œ Python ë°±ì—”ë“œ ì„œë²„ì˜ /api/videos ì—”ë“œí¬ì¸íŠ¸ë¥¼ í˜¸ì¶œí•˜ì—¬
         * Google Driveì— ì €ì¥ëœ 'RS_TV / short 2025' í´ë”ì˜ ì˜ìƒ ëª©ë¡ì„ JSON í˜•íƒœë¡œ ë°›ì•„ì™€ì•¼ í•©ë‹ˆë‹¤.
         */
        async function fetchVideosFromGoogleDrive() {
            loadingIndicator.classList.remove('hidden');
            videoGrid.innerHTML = ''; // ê¸°ì¡´ ëª©ë¡ ì´ˆê¸°í™”

            // ì‹¤ì œ API í˜¸ì¶œ ëŒ€ì‹ , 2ì´ˆ ì§€ì—° í›„ ëª©ì—… ë°ì´í„° ë°˜í™˜ ì‹œë®¬ë ˆì´ì…˜
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve(mockVideos);
                }, 2000);
            });
        }

        /**
         * @function loadAndRender
         * @description ì˜ìƒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ í™”ë©´ì— ë Œë”ë§í•˜ê³  ìƒíƒœ ë©”ì‹œì§€ë¥¼ í‘œì‹œí•˜ëŠ” ë©”ì¸ í•¨ìˆ˜
         */
        async function loadAndRender() {
            try {
                // 1. Google Drive APIë¡œë¶€í„° ì˜ìƒ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹œë„
                const videos = await fetchVideosFromGoogleDrive();
                
                loadingIndicator.classList.add('hidden');

                // 2. ë¶ˆëŸ¬ì˜¨ ë°ì´í„°ë¥¼ í™”ë©´ì— ë Œë”ë§
                if (videos && videos.length > 0) {
                    let htmlContent = videos.map(renderVideoCard).join('');
                    videoGrid.innerHTML = htmlContent;
                    
                    // 3. âœ¨ ìš”ì²­í•˜ì‹  ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                    updateStatus('RS_TVì— ìë™ ì—…ë¡œë“œ ì™„ë£Œ. (ì´ ' + videos.length + 'ê°œ ì˜ìƒ ë¶ˆëŸ¬ì˜´)');
                } else {
                    videoGrid.innerHTML = '<div class="col-span-full text-center py-12 text-gray-500">í˜„ì¬ í´ë”ì— í‘œì‹œí•  ì˜ìƒì´ ì—†ìŠµë‹ˆë‹¤.</div>';
                    updateStatus('ì—…ë¡œë“œ ì™„ë£Œ. (ìƒˆë¡œìš´ ì˜ìƒ ì—†ìŒ)', 'success');
                }

            } catch (error) {
                loadingIndicator.classList.add('hidden');
                console.error('ì˜ìƒ ë¡œë”© ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error);
                videoGrid.innerHTML = '<div class="col-span-full text-center py-12 text-red-400">ì‹œìŠ¤í…œ ì˜¤ë¥˜: Google Drive API ì—°ë™ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë°±ì—”ë“œ(Python) ì„¤ì •ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</div>';
                updateStatus('ì˜ìƒ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨. (API ì˜¤ë¥˜)', 'error');
            }
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ ì‹¤í–‰
        window.onload = loadAndRender;
    </script>
</body>
</html>
